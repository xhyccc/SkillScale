# SkillTopic instances â€” declarative config for each skill server topic.
# Each has its own container running the Python skill server with
# OpenSkills-based skill discovery and LLM-powered matching.

apiVersion: skillscale.io/v1alpha1
kind: SkillTopic
metadata:
  name: data-processing
  namespace: skillscale
spec:
  topic: TOPIC_DATA_PROCESSING
  skillsPath: data-processing
  image: skillscale/skill-server-py:latest
  minReplicas: 1
  maxReplicas: 10
  timeout: 120
  workers: 2
  resources:
    cpuRequest: "100m"
    cpuLimit: "1000m"
    memoryRequest: "256Mi"
    memoryLimit: "1Gi"

---
apiVersion: skillscale.io/v1alpha1
kind: SkillTopic
metadata:
  name: code-analysis
  namespace: skillscale
spec:
  topic: TOPIC_CODE_ANALYSIS
  skillsPath: code-analysis
  image: skillscale/skill-server-py:latest
  minReplicas: 0         # Scale to zero when idle
  maxReplicas: 5
  timeout: 120
  workers: 4
  resources:
    cpuRequest: "200m"
    cpuLimit: "2000m"
    memoryRequest: "256Mi"
    memoryLimit: "1Gi"
